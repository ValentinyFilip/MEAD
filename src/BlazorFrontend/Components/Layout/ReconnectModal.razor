<script type="module" src="@Assets["Components/Layout/ReconnectModal.razor.js"]"></script>

<dialog id="components-reconnect-modal" data-nosnippet>
    <MudPaper Elevation="8" Class="pa-4" Style="min-width: 350px;">

        @* First attempt *@
        <div class="components-reconnect-first-attempt-visible">
            <MudStack Spacing="2" AlignItems="AlignItems.Center">
                <MudProgressCircular Color="Color.Primary" Indeterminate="true"/>
                <MudText Typo="Typo.body1">Rejoining the server...</MudText>
            </MudStack>
        </div>

        @* Repeated attempt *@
        <div class="components-reconnect-repeated-attempt-visible">
            <MudStack Spacing="2" AlignItems="AlignItems.Center">
                <MudIcon Icon="@Icons.Material.Filled.CloudOff" Color="Color.Warning" Size="Size.Large"/>
                <MudText Typo="Typo.body1" Align="Align.Center">
                    Rejoin failed... trying again in <span id="components-seconds-to-next-attempt"></span> seconds.
                </MudText>
                <MudProgressCircular Color="Color.Warning" Size="Size.Small" Indeterminate="true"/>
            </MudStack>
        </div>

        @* Failed *@
        <div class="components-reconnect-failed-visible">
            <MudStack Spacing="2" AlignItems="AlignItems.Center">
                <MudIcon Icon="@Icons.Material.Filled.SignalWifiOff" Color="Color.Error" Size="Size.Large"/>
                <MudText Typo="Typo.body1" Align="Align.Center">
                    Failed to rejoin. Please retry or reload the page.
                </MudText>
                <MudButton
                    id="components-reconnect-button"
                    Variant="Variant.Filled"
                    Color="Color.Primary"
                    FullWidth="true">
                    Retry
                </MudButton>
            </MudStack>
        </div>

        @* Paused *@
        <div class="components-pause-visible">
            <MudStack Spacing="2" AlignItems="AlignItems.Center">
                <MudIcon Icon="@Icons.Material.Filled.Pause" Color="Color.Info" Size="Size.Large"/>
                <MudText Typo="Typo.body1" Align="Align.Center">
                    The session has been paused by the server.
                </MudText>
                <MudButton
                    id="components-resume-button"
                    Variant="Variant.Filled"
                    Color="Color.Primary"
                    FullWidth="true">
                    Resume
                </MudButton>
            </MudStack>
        </div>

        @* Resume failed *@
        <div class="components-resume-failed-visible">
            <MudStack Spacing="2" AlignItems="AlignItems.Center">
                <MudIcon Icon="@Icons.Material.Filled.ErrorOutline" Color="Color.Error" Size="Size.Large"/>
                <MudText Typo="Typo.body1" Align="Align.Center">
                    Failed to resume the session. Please reload the page.
                </MudText>
            </MudStack>
        </div>

    </MudPaper>
</dialog>

@inject NavigationManager Navigation
